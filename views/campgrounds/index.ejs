<% layout(`layouts/boilerplate`)  %> 


<div id="cluster-map"></div>
    
    <h1>Campgrounds</h1>
    <div>
        <a href="/campgrounds/new">New Campground</a>
    </div>
  
        <% for (let campground of campgrounds) { %>
<div class="card mb-3">
<div class="row">
    <div class="col-md-4">
        <% if(campground.images.length) { %> 
<img class="img-fluid" alt="" src="<%=campground.images[0].url%>">
   <% } else { %> 
    <img class="img-fluid" alt="" src="https://res.cloudinary.com/mikescloudacc/image/upload/v1613492266/Yelp%20camp/r6t9pmst5zxz1byggmto.jpg">
    <% } %> 
</div>
<div class="col-md-8">
    <div class="card-body">
        <h5 class="card-title"> <%= campground.title %> </h5>
   <!--    where props were -->
        <p class="card-text"> <%= campground.description %> </p>
    <p class="card-text"> 
<small class="text-muted"> <%= campground.location %> </small>
    </p>
    <a href="/campgrounds/<%= campground._id %>" class="btn btn-primary"> View <%= campground.title %> </a>
    </div>
</div>
</div>
</div>
            
<% } %>  
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js" integrity="sha512-cdV6j5t5o24hkSciVrb8Ki6FveC2SgwGfLE31+ZQRHAeSRxYhAQskLkq3dLm8ZcWe1N3vBOEYmmbhzf7NTtFFQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="/javascripts/animations.js"></script>
<script>  
const mapToken = "<%-process.env.MAPBOX_TOKEN%>"
const campgrounds = { features: <%-JSON.stringify(campgrounds)%> }

const preloader = document.querySelector(".preloader")
    window.addEventListener("load", () => {
      preloader.classList.add("preloader-done")
    })
   </script>
   
<script defer src="/javascripts/clustermap.js"></script>


